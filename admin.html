<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Admin - Editor de Conteúdo Visual</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
		<style>
			body { font-family: 'Inter', sans-serif; }
			.form-section { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); }
			label { font-weight: 600; color: #cbd5e1; display: block; margin-bottom: 0.5rem; }
			input[type='text'], textarea {
				background-color: #1e293b;
				border: 1px solid #334155;
				border-radius: 0.5rem;
				padding: 0.75rem 1rem;
				color: #e2e8f0;
				transition: border-color 0.2s, box-shadow 0.2s;
				width: 100%;
			}
			input[type='text']:focus, textarea:focus {
				outline: none;
				border-color: #fb923c;
				box-shadow: 0 0 0 2px rgba(251, 146, 60, 0.4);
			}
			.page-title { border-bottom: 2px solid #fb923c; padding-bottom: 0.5rem; }
            .section-subtitle { font-size: 0.875rem; color: #94a3b8; margin-top: -0.5rem; margin-bottom: 1rem; }
			.scrollable-editor {
				max-height: 500px;
				overflow-y: auto;
				padding-right: 1rem;
			}
		</style>
	</head>
	<body class="bg-gray-900 text-white">
		<div class="container mx-auto p-4 md:p-8">
			<header class="mb-8 text-center">
				<h1 class="text-4xl font-bold text-orange-500">Editor de Conteúdo</h1>
				<p class="text-gray-400 mt-2">Altere o conteúdo das páginas nos campos abaixo e clique em "Salvar".</p>
			</header>

			<div id="loading-state" class="text-center p-8 bg-gray-800 rounded-lg"><p>Carregando dados do Firebase...</p></div>
			<div id="initialization-state" class="hidden text-center p-8 bg-gray-800 rounded-lg border-2 border-dashed border-orange-500">
				<h2 class="text-2xl font-semibold mb-4">Banco de dados vazio!</h2>
				<p class="mb-6 text-gray-300">Clique no botão abaixo para carregar o conteúdo inicial no Firebase.</p>
				<button id="initialize-button" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">Carregar Conteúdo Inicial</button>
			</div>

			<main id="editor-state" class="hidden space-y-12">
				<div id="status-message" class="hidden mb-6 p-4 rounded-lg text-center font-semibold sticky top-4 z-50"></div>

				<div class="grid lg:grid-cols-2 gap-8 items-start">
					<!-- COLUNA PÁGINA PRINCIPAL -->
					<div class="space-y-6">
						<h2 class="text-3xl font-bold text-gray-200 page-title">Página Principal</h2>
						<form id="homePageForm" class="space-y-6">
							<!-- Seção: Funcionalidades -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Funcionalidades</h3>
								<div class="space-y-4">
									<div><label>Título da Seção</label><input type="text" data-path="homePage.features.title" /></div>
									<div><label>Subtítulo da Seção</label><textarea data-path="homePage.features.subtitle" class="h-20"></textarea></div>
									<div id="features-items-editor" class="space-y-6 pt-4 border-t border-gray-700">
										<!-- Campos Fixos para Funcionalidades -->
									</div>
								</div>
							</div>
							<!-- Seção: Telas do Sistema -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Telas (Carrossel)</h3>
								<div class="space-y-4">
									<div><label>Título</label><input type="text" data-path="homePage.screenshots.title" /></div>
									<div><label>Subtítulo</label><textarea data-path="homePage.screenshots.subtitle" class="h-20"></textarea></div>
									<div id="screenshots-items-editor" class="space-y-4 pt-4 border-t border-gray-700 scrollable-editor"></div>
								</div>
							</div>
							<!-- Seção: Depoimentos -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Depoimentos (Carrossel)</h3>
								<div class="space-y-4">
									<div><label>Título</label><input type="text" data-path="homePage.testimonials.title" /></div>
									<div><label>Subtítulo</label><textarea data-path="homePage.testimonials.subtitle" class="h-20"></textarea></div>
									<div id="testimonials-items-editor" class="space-y-4 pt-4 border-t border-gray-700 scrollable-editor"></div>
								</div>
							</div>
						</form>
					</div>
					<!-- COLUNA PÁGINA EMPRESAS -->
					<div class="space-y-6">
						<h2 class="text-3xl font-bold text-gray-200 page-title">Página de Empresas</h2>
						<form id="businessPageForm" class="space-y-6">
							<!-- Seção: Hero -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Principal (Hero)</h3>
								<div class="space-y-4">
									<div><label>Título</label><input type="text" data-path="businessPage.hero.title" /></div>
									<div><label>Subtítulo</label><textarea data-path="businessPage.hero.subtitle" class="h-24"></textarea></div>
									<div><label>Botão Principal</label><input type="text" data-path="businessPage.hero.cta_button" /></div>
									<div><label>Botão Secundário</label><input type="text" data-path="businessPage.hero.secondary_button" /></div>
								</div>
							</div>
							<!-- Seção: Proposta de Valor -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Proposta de Valor</h3>
								<div><label>Título da Seção</label><input type="text" data-path="businessPage.valueProposition.title" /></div>
								<div id="business-value-prop-editor" class="space-y-4 pt-4 border-t border-gray-700 mt-4">
									<!-- Itens fixos da proposta de valor -->
								</div>
							</div>
							<!-- Seção: Seções de Informação (NOVO) -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Features Detalhadas</h3>
								<div id="info-sections-editor" class="space-y-4 pt-4 border-t border-gray-700 scrollable-editor">
									<!-- Itens dinâmicos das seções de informação -->
								</div>
							</div>
							<!-- Seção: Grid de Funcionalidades -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Grid de Funcionalidades</h3>
								<div><label>Título da Seção</label><input type="text" data-path="businessPage.features.title" /></div>
								<div><label>Subtítulo da Seção</label><textarea data-path="businessPage.features.subtitle" class="h-20"></textarea></div>
								<div id="business-features-editor" class="space-y-4 pt-4 border-t border-gray-700 mt-4">
									<!-- Conteúdo Fixo de Features -->
								</div>
							</div>
							<!-- Seção: Telas (Carrossel Business) -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Telas (Carrossel Empresa)</h3>
								<div class="space-y-4">
									<div><label>Título</label><input type="text" data-path="businessPage.screenshots.title" /></div>
									<div><label>Subtítulo</label><textarea data-path="businessPage.screenshots.subtitle" class="h-20"></textarea></div>
									<div id="business-screenshots-editor" class="space-y-4 pt-4 border-t border-gray-700 scrollable-editor"></div>
								</div>
							</div>
							<!-- Seção: Depoimentos (Business) -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Depoimentos (Empresa)</h3>
								<div class="space-y-4">
									<div><label>Título</label><input type="text" data-path="businessPage.testimonials.title" /></div>
									<div><label>Subtítulo</label><textarea data-path="businessPage.testimonials.subtitle" class="h-20"></textarea></div>
									<div id="business-testimonials-editor" class="space-y-4 pt-4 border-t border-gray-700 scrollable-editor"></div>
								</div>
							</div>
							<!-- Seção: Para Clientes -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: Para Clientes (CTA)</h3>
								<div class="space-y-4">
									<div><label>Tagline (Texto Laranja)</label><input type="text" data-path="businessPage.forClients.tagline" /></div>
									<div><label>Título</label><input type="text" data-path="businessPage.forClients.title" /></div>
									<div><label>Descrição</label><textarea data-path="businessPage.forClients.description" class="h-20"></textarea></div>
									<div><label>Texto do Botão</label><input type="text" data-path="businessPage.forClients.button" /></div>
								</div>
							</div>
							<!-- Seção: CTA Final -->
							<div class="form-section p-6 rounded-xl">
								<h3 class="text-xl font-semibold text-orange-400 mb-4">Seção: CTA Final</h3>
								<div class="space-y-4">
									<div><label>Título</label><input type="text" data-path="businessPage.cta.title" /></div>
									<div><label>Descrição</label><textarea data-path="businessPage.cta.description" class="h-20"></textarea></div>
									<div><label>Texto do Botão</label><input type="text" data-path="businessPage.cta.button" /></div>
								</div>
							</div>
						</form>
					</div>
				</div>

				<div class="mt-8 text-center sticky bottom-0 py-4 bg-gray-900/80 backdrop-blur-sm">
					<button id="save-button" class="w-full md:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 text-lg">
						Salvar Alterações
					</button>
				</div>
			</main>
		</div>

		<script type="module">
			import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
			import { getFirestore, doc, getDoc, setDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

			const firebaseConfig = {
				apiKey: "AIzaSyDmScpF_IsLIWRtltZg09yDpOkYIyE1MrU",
				authDomain: "papifast-90f21.firebaseapp.com",
				projectId: "papifast-90f21",
				storageBucket: "papifast-90f21.appspot.com",
				messagingSenderId: "423481031884",
				appId: "1:423481031884:web:8f2e02e4fd8bc9a0e55669",
				measurementId: "G-0S2L6TXN0W"
			};

			const app = initializeApp(firebaseConfig);
			const db = getFirestore(app);
			const contentRef = doc(db, 'content', 'pages');

			const loadingState = document.getElementById('loading-state');
			const initializationState = document.getElementById('initialization-state');
			const editorState = document.getElementById('editor-state');
			const initializeButton = document.getElementById('initialize-button');
			const saveButton = document.getElementById('save-button');
			const statusMessage = document.getElementById('status-message');
			
			function showStatus(message, isError = false) {
				statusMessage.textContent = message;
				statusMessage.classList.remove('hidden');
				statusMessage.className = `p-4 rounded-lg text-center font-semibold sticky top-4 z-50 ${isError ? 'bg-red-500/20 text-red-300' : 'bg-green-500/20 text-green-300'}`;
				setTimeout(() => statusMessage.classList.add('hidden'), 5000);
			}
			
			function setNestedValue(obj, path, value) {
                if (path.endsWith('.points') && typeof value === 'string') {
                    value = value.split('\n').map(s => s.trim()).filter(Boolean);
                }
				const keys = path.split('.');
				let current = obj;
				for (let i = 0; i < keys.length - 1; i++) {
					const key = keys[i];
					const nextKey = keys[i + 1];
					const isNextKeyNumber = !isNaN(parseInt(nextKey, 10));

					if (current[key] === undefined || current[key] === null) {
						current[key] = isNextKeyNumber ? [] : {};
					}
					current = current[key];
				}
				current[keys[keys.length - 1]] = value;
			}
            
            function getNestedValue(obj, path) {
                const value = path.split('.').reduce((acc, part) => acc && acc[part], obj);
                if (path.endsWith('.points') && Array.isArray(value)) {
                    return value.join('\n');
                }
                return value;
            }

			function createItemElement(pathPrefix, index, itemData, fields) {
				const itemDiv = document.createElement('div');
				itemDiv.className = 'relative p-4 border border-gray-600 rounded-lg space-y-2 mb-4 list-item';
				const removeButton = document.createElement('button');
				removeButton.type = 'button';
				removeButton.innerHTML = '&times;';
				removeButton.className = 'absolute top-2 right-2 h-8 w-8 bg-red-600 hover:bg-red-700 text-white font-bold rounded-full';
				removeButton.onclick = () => { itemDiv.remove(); reindexItems(itemDiv.parentElement, pathPrefix); };
				itemDiv.appendChild(removeButton);
				const itemTitle = document.createElement('h5');
				itemTitle.className = 'font-bold text-gray-300 mb-2';
				itemTitle.textContent = `Item ${index + 1}`;
				itemDiv.appendChild(itemTitle);
				fields.forEach(field => {
					const fieldDiv = document.createElement('div');
					const label = document.createElement('label');
					label.textContent = field.label;
					fieldDiv.appendChild(label);
					const input = document.createElement(field.type === 'textarea' ? 'textarea' : 'input');
					if (input.tagName.toLowerCase() === 'input') input.type = 'text';
					input.dataset.path = `${pathPrefix}.${index}.${field.key}`;
					
					// CORREÇÃO: Lida com a conversão de array para string com quebras de linha
					let value = itemData[field.key] || '';
					if (field.key === 'points' && Array.isArray(value)) {
						input.value = value.join('\n');
					} else {
						input.value = value;
					}

					if(field.type === 'textarea') input.classList.add('h-20');
					if(field.key === 'points') input.classList.add('h-24');
					fieldDiv.appendChild(input);
					itemDiv.appendChild(fieldDiv);
				});
				return itemDiv;
			}

			function reindexItems(container, pathPrefix) {
				container.querySelectorAll('.list-item').forEach((itemDiv, newIndex) => {
					itemDiv.querySelector('h5').textContent = `Item ${newIndex + 1}`;
					itemDiv.querySelectorAll('[data-path]').forEach(input => {
						const parts = input.dataset.path.split('.');
						parts[parts.length - 2] = newIndex;
						input.dataset.path = parts.join('.');
					});
				});
			}
			
			function createListEditor(containerId, data, pathPrefix, fields, newItemTemplate) {
				const container = document.getElementById(containerId);
				container.innerHTML = '';
				const dataArray = Array.isArray(data) ? data : [];
				dataArray.forEach((item, index) => container.appendChild(createItemElement(pathPrefix, index, item, fields)));
				
                const addButton = document.createElement('button');
				addButton.type = 'button';
				addButton.textContent = 'Adicionar Novo Item';
				addButton.className = 'w-full mt-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg';
				addButton.onclick = () => {
					const count = container.querySelectorAll('.list-item').length;
					container.insertBefore(createItemElement(pathPrefix, count, newItemTemplate, fields), addButton);
				};
				container.appendChild(addButton);
			}

			function createFixedListEditor(containerId, data, pathPrefix, fields) {
				const container = document.getElementById(containerId);
				container.innerHTML = '';
				const itemCount = fields.itemCount || (data ? data.length : 0);
				for(let index = 0; index < itemCount; index++) {
					const item = data ? data[index] : {};
					const itemDiv = document.createElement('div');
					itemDiv.className = 'space-y-4 pt-4 border-t border-gray-700 mt-4';
					const itemTitle = document.createElement('h5');
					itemTitle.className = 'font-bold text-gray-300';
					itemTitle.textContent = `Item ${index + 1}`;
					itemDiv.appendChild(itemTitle);
					fields.structure.forEach(field => {
						const fieldDiv = document.createElement('div');
						const label = document.createElement('label');
						label.textContent = field.label;
						fieldDiv.appendChild(label);
						const input = document.createElement(field.type === 'textarea' ? 'textarea' : 'input');
						if (input.tagName.toLowerCase() === 'input') input.type = 'text';
						input.dataset.path = `${pathPrefix}.${index}.${field.key}`;
						input.value = (item && item[field.key]) ? (Array.isArray(item[field.key]) ? item[field.key].join('\n') : item[field.key]) : '';
						if(field.type === 'textarea') {
							if (field.key === 'icon') {
								input.classList.add('h-24', 'font-mono', 'text-sm');
							} else {
								input.classList.add('h-20');
							}
						}
						fieldDiv.appendChild(input);
						itemDiv.appendChild(fieldDiv);
					});
					container.appendChild(itemDiv);
				}
			}

			async function loadContent() {
				try {
					const docSnap = await getDoc(contentRef);
					if (docSnap.exists()) {
						const data = docSnap.data();
						document.querySelectorAll('#editor-state [data-path]').forEach(input => {
							if (input.closest('.dynamic-list-container, #features-items-editor, #business-features-editor, #business-value-prop-editor, #info-sections-editor')) return;
							const path = input.dataset.path;
							const value = getNestedValue(data, path);
							if (value !== undefined && value !== null) { input.value = value; }
						});
						
						// --- Página Principal ---
						createFixedListEditor('features-items-editor', data.homePage?.features?.items, 'homePage.features.items', { itemCount: 6, structure: [{ label: 'Título', key: 'title' }, { label: 'Descrição', key: 'description', type: 'textarea' }] });
						createListEditor('screenshots-items-editor', data.homePage?.screenshots?.items, 'homePage.screenshots.items', [{ label: 'URL da Imagem', key: 'image' }, { label: 'Legenda', key: 'caption' }], { image: '', caption: '' });
						createListEditor('testimonials-items-editor', data.homePage?.testimonials?.items, 'homePage.testimonials.items', [{ label: 'Depoimento', key: 'quote', type: 'textarea' }, { label: 'Autor', key: 'author' }], { quote: '', author: '' });

						// --- Página de Empresas ---
						createFixedListEditor('business-value-prop-editor', data.businessPage?.valueProposition?.items, 'businessPage.valueProposition.items', { itemCount: 3, structure: [{ label: 'Ícone (SVG)', key: 'icon', type: 'textarea' }, { label: 'Título', key: 'title' }, { label: 'Descrição', key: 'description', type: 'textarea' }]});
						createListEditor('info-sections-editor', data.businessPage?.infoSections, 'businessPage.infoSections', [{ label: 'Título', key: 'title' }, { label: 'Descrição', key: 'description', type: 'textarea' }, { label: 'Pontos (um por linha)', key: 'points', type: 'textarea' }, { label: 'URL da Imagem', key: 'image' }], { title: 'Novo Título', description: '', points: [], image: ''});
						createFixedListEditor('business-features-editor', data.businessPage?.features?.items, 'businessPage.features.items', { itemCount: 6, structure: [{ label: 'Ícone (SVG)', key: 'icon', type: 'textarea' }, { label: 'Título', key: 'title' }, { label: 'Descrição', key: 'description', type: 'textarea' }] });
						createListEditor('business-screenshots-editor', data.businessPage?.screenshots?.items, 'businessPage.screenshots.items', [{ label: 'URL da Imagem', key: 'image' }, { label: 'Legenda', key: 'caption' }], { image: '', caption: '' });
						createListEditor('business-testimonials-editor', data.businessPage?.testimonials?.items, 'businessPage.testimonials.items', [{ label: 'Depoimento', key: 'quote', type: 'textarea' }, { label: 'Autor', key: 'author' }], { quote: '', author: '' });

						loadingState.classList.add('hidden');
						editorState.classList.remove('hidden');
					} else {
						loadingState.classList.add('hidden');
						initializationState.classList.remove('hidden');
					}
				} catch (error) {
					console.error("Erro ao carregar:", error);
					showStatus("Erro ao carregar: " + error.message, true);
				}
			}

			async function saveContent() {
				saveButton.disabled = true;
				saveButton.textContent = 'Salvando...';
				try {
					const docSnap = await getDoc(contentRef);
					let dataToSave = docSnap.exists() ? docSnap.data() : {};
					
					const listsToClear = ['homePage.screenshots.items', 'homePage.testimonials.items', 'businessPage.infoSections', 'businessPage.screenshots.items', 'businessPage.testimonials.items'];
					listsToClear.forEach(path => setNestedValue(dataToSave, path, []));
                    if (dataToSave.businessPage && dataToSave.businessPage.detailedFeatures) {
                        delete dataToSave.businessPage.detailedFeatures;
                    }


					document.querySelectorAll('#editor-state [data-path]').forEach(input => {
						setNestedValue(dataToSave, input.dataset.path, input.value);
					});
					
					await setDoc(contentRef, dataToSave, { merge: true });
					showStatus('Conteúdo salvo com sucesso!', false);
				} catch (error) {
					console.error("Erro ao salvar:", error);
					showStatus("Erro ao salvar: " + error.message, true);
				} finally {
					saveButton.disabled = false;
					saveButton.textContent = 'Salvar Alterações';
				}
			}

			async function initializeContent() {
                initializeButton.disabled = true;
                initializeButton.textContent = 'Carregando...';
				const initialContent = {
					homePage: { /* Conteúdo da Home Page aqui, se necessário */ },
					businessPage: {
						hero: { title: "A Plataforma Completa para seu Negócio Decolar", subtitle: "Gestão de eventos, marketing automatizado e vendas integradas. Transforme a experiência do seu cliente e impulsione seus resultados com Wevity.", cta_button: "Agendar uma Demonstração", secondary_button: "Ver Funcionalidades" },
						valueProposition: { title: "Transforme a Gestão, o Marketing e as Vendas do seu Negócio", items: [ { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>`, title: "Aumente sua Receita", description: "Monetize seus eventos com um sistema de venda de ingressos online, crie listas de presentes e ofereça cupons de desconto." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-4.44a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8.88a2 2 0 0 0 2-2v-8.44L12.22 2z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>`, title: "Otimize sua Gestão", description: "Centralize a criação de eventos, o controle de convidados (RSVP), a gestão de clientes (CRM) e a sincronização com seu PDV." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>`, title: "Fidelize seus Clientes", description: "Crie um relacionamento duradouro enviando convites exclusivos, vouchers e comunicados diretamente pelo WhatsApp." } ] },
						infoSections: [ 
							{ title: "Gestão de Eventos Simplificada", description: "Organize, promova e monetize eventos sem esforço. Desde a criação da página do evento até a venda de ingressos e o check-in no dia, tudo em um só lugar.", points: ["Venda de Ingressos Online com lotes", "Envio de Convites Digitais via WhatsApp", "Controle de Presença (RSVP) e Check-in", "Listas de Convidados personalizadas"], image: "https://images.unsplash.com/photo-1511795409834-ef04bbd51622?q=80&w=2070&auto=format&fit=crop" }, 
							{ title: "Marketing Automatizado com Inteligência Artificial", description: "Crie campanhas de marketing impactantes com a ajuda da nossa IA. Gere anúncios para redes sociais, crie cardápios digitais e envie cupons promocionais com apenas alguns cliques.", points: ["Geração de Anúncios com IA", "Criação de Cardápios Digitais interativos", "Envio de Cupons e Vouchers Promocionais", "Comunicação direta com clientes via WhatsApp"], image: "https://images.unsplash.com/photo-1620712943543-2858200f745a?q=80&w=2070&auto=format&fit=crop" } 
						],
						features: { title: "Ferramentas Poderosas para o seu Sucesso", subtitle: "Centralize suas operações e ofereça uma experiência inesquecível para seus clientes.", items: [ { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>`, title: "Gestão Completa de Eventos", description: "Crie eventos, defina lotes de ingressos e gerencie listas de convidados." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>`, title: "Comunicação Direta via WhatsApp", description: "Envie convites, ingressos, cupons e vouchers diretamente para o WhatsApp dos seus clientes." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>`, title: "Marketing e Campanhas Digitais", description: "Crie cardápios digitais, gere anúncios com IA e envie cupons promocionais." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>`, title: "Gestão de Clientes (CRM)", description: "Gerencie sua base de clientes e funcionários, associe-os a filiais e acompanhe o histórico." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>`, title: "Listas de Presentes com IA", description: "Ofereça aos seus clientes a opção de criar listas de presentes com sugestões geradas por IA." }, { icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>`, title: "Sincronização com PDV", description: "Mantenha seu catálogo de produtos e preços sempre atualizado com a sincronização automática." } ] },
						screenshots: { title: "Uma Visão Completa da Sua Operação", subtitle: "Interface moderna e intuitiva, projetada para que você gerencie seu negócio de qualquer lugar.", items: [ { image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop", caption: "Dashboard de Vendas em tempo real." }, { image: "https://images.unsplash.com/photo-1516321497487-e288fb19713f?q=80&w=2070&auto=format&fit=crop", caption: "Criação de Campanhas de Marketing com IA." }, { image: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=1974&auto=format&fit=crop", caption: "Visualização de Cardápio Digital Interativo." } ] },
						testimonials: { title: "O que nossos parceiros dizem", subtitle: "Negócios que confiam no Wevity para crescer.", items: [ { quote: "Desde que adotamos o Wevity, a venda de ingressos para nossos shows aumentou 40%. A plataforma é intuitiva e o suporte é excelente.", author: "Carlos Pereira, Dono de Casa de Shows" }, { quote: "A funcionalidade de gerar cardápios digitais é fantástica. Economizamos tempo e nossos clientes adoram a interatividade.", author: "Juliana Martins, Gerente de Restaurante" } ] },
						forClients: { tagline: "Você é um cliente?", title: "Organizando sua festa pessoal?", description: "O Wevity também é a ferramenta perfeita para aniversários, chás de bebê e qualquer celebração. Crie convites, listas de presentes e muito mais.", button: "Conheça a versão para você" },
						cta: { title: "Pronto para levar seu negócio ao próximo nível?", description: "Agende uma demonstração gratuita e descubra como o Wevity pode transformar a gestão do seu negócio.", button: "Fale com um especialista" }
					}
				};
                try {
                    await setDoc(contentRef, initialContent, { merge: true });
                    showStatus('Conteúdo inicial carregado!', false);
                    initializationState.classList.add('hidden');
                    await loadContent();
                } catch (error) {
                    console.error("Erro ao inicializar:", error);
                    showStatus('Erro ao inicializar: ' + error.message, true);
                    initializeButton.disabled = false;
                    initializeButton.textContent = 'Tentar Novamente';
                }
            }

			saveButton.addEventListener('click', saveContent);
			initializeButton.addEventListener('click', initializeContent);
			loadContent();
		</script>
	</body>
</html>

